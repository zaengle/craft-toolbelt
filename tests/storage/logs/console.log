2022-07-27 10:20:35 [-][-][-][info][yii\db\Connection::open] Opening DB connection: mysql:host=;dbname=;port=3306
2022-07-27 10:20:35 [-][-][-][profile begin][yii\db\Connection::open] Opening DB connection: mysql:host=;dbname=;port=3306
2022-07-27 10:20:35 [-][-][-][profile end][yii\db\Connection::open] Opening DB connection: mysql:host=;dbname=;port=3306
2022-07-27 10:20:35 [-][-][-][error][craft\db\Connection::open] SQLSTATE[HY000] [2002] No such file or directory
2022-07-27 10:20:35 [-][-][-][error][craft\db\Connection::open] SQLSTATE[HY000] [2002] No such file or directory
2022-07-27 10:20:35 [-][-][-][error][craft\base\ApplicationTrait::getIsDbConnectionValid] There was a problem connecting to the database: Craft CMS can’t connect to the database with the credentials in config/db.php.
2022-07-27 10:20:35 [-][-][-][error][craft\errors\DbConnectException] PDOException: SQLSTATE[HY000] [2002] No such file or directory in /Users/tomdavies/code/craft-toolbelt/vendor/yiisoft/yii2/db/Connection.php:721
Stack trace:
#0 /Users/tomdavies/code/craft-toolbelt/vendor/yiisoft/yii2/db/Connection.php(721): PDO->__construct('mysql:host=;dbn...', 'root', '', Array)
#1 /Users/tomdavies/code/craft-toolbelt/vendor/yiisoft/yii2/db/Connection.php(636): yii\db\Connection->createPdoInstance()
#2 /Users/tomdavies/code/craft-toolbelt/vendor/craftcms/cms/src/db/Connection.php(152): yii\db\Connection->open()
#3 /Users/tomdavies/code/craft-toolbelt/vendor/craftcms/cms/src/base/ApplicationTrait.php(843): craft\db\Connection->open()
#4 /Users/tomdavies/code/craft-toolbelt/vendor/craftcms/cms/src/base/ApplicationTrait.php(313): craft\console\Application->getIsDbConnectionValid()
#5 /Users/tomdavies/code/craft-toolbelt/vendor/craftcms/cms/src/helpers/App.php(856): craft\console\Application->getIsInstalled()
#6 /Users/tomdavies/code/craft-toolbelt/vendor/craftcms/cms/src/config/app.php(245): craft\helpers\App::projectConfigConfig()
#7 [internal function]: PHPUnit\Util\FileLoader::{closure}()
#8 /Users/tomdavies/code/craft-toolbelt/vendor/yiisoft/yii2/di/Container.php(633): call_user_func_array(Object(Closure), Array)
#9 /Users/tomdavies/code/craft-toolbelt/vendor/yiisoft/yii2/BaseYii.php(349): yii\di\Container->invoke(Object(Closure), Array)
#10 /Users/tomdavies/code/craft-toolbelt/vendor/yiisoft/yii2/di/ServiceLocator.php(137): yii\BaseYii::createObject(Object(Closure))
#11 /Users/tomdavies/code/craft-toolbelt/vendor/yiisoft/yii2/base/Module.php(766): yii\di\ServiceLocator->get('projectConfig', true)
#12 /Users/tomdavies/code/craft-toolbelt/vendor/craftcms/cms/src/console/Application.php(169): yii\base\Module->get('projectConfig', true)
#13 /Users/tomdavies/code/craft-toolbelt/vendor/craftcms/cms/src/base/ApplicationTrait.php(1322): craft\console\Application->get('projectConfig')
#14 /Users/tomdavies/code/craft-toolbelt/vendor/craftcms/cms/src/base/ApplicationTrait.php(1508): craft\console\Application->getProjectConfig()
#15 /Users/tomdavies/code/craft-toolbelt/vendor/craftcms/cms/src/base/ApplicationTrait.php(1464): craft\console\Application->_setTimeZone()
#16 /Users/tomdavies/code/craft-toolbelt/vendor/craftcms/cms/src/console/Application.php(46): craft\console\Application->_preInit()
#17 /Users/tomdavies/code/craft-toolbelt/vendor/yiisoft/yii2/base/BaseObject.php(109): craft\console\Application->init()
#18 /Users/tomdavies/code/craft-toolbelt/vendor/yiisoft/yii2/base/Application.php(204): yii\base\BaseObject->__construct(Array)
#19 /Users/tomdavies/code/craft-toolbelt/vendor/yiisoft/yii2/console/Application.php(89): yii\base\Application->__construct(Array)
#20 [internal function]: yii\console\Application->__construct(Array)
#21 /Users/tomdavies/code/craft-toolbelt/vendor/yiisoft/yii2/di/Container.php(419): ReflectionClass->newInstanceArgs(Array)
#22 /Users/tomdavies/code/craft-toolbelt/vendor/yiisoft/yii2/di/Container.php(170): yii\di\Container->build('craft\\console\\A...', Array, Array)
#23 /Users/tomdavies/code/craft-toolbelt/vendor/yiisoft/yii2/BaseYii.php(365): yii\di\Container->get('craft\\console\\A...', Array, Array)
#24 /Users/tomdavies/code/craft-toolbelt/vendor/craftcms/cms/src/Craft.php(61): yii\BaseYii::createObject(Array, Array)
#25 /Users/tomdavies/code/craft-toolbelt/vendor/craftcms/cms/bootstrap/bootstrap.php(247): Craft::createObject(Array)
#26 /Users/tomdavies/code/craft-toolbelt/vendor/craftcms/cms/bootstrap/console.php(51): require('/Users/tomdavie...')
#27 /Users/tomdavies/code/craft-toolbelt/tests/bootstrap.php(12): require('/Users/tomdavie...')
#28 /Users/tomdavies/code/craft-toolbelt/vendor/phpunit/phpunit/src/Util/FileLoader.php(65): include_once('/Users/tomdavie...')
#29 /Users/tomdavies/code/craft-toolbelt/vendor/phpunit/phpunit/src/Util/FileLoader.php(49): PHPUnit\Util\FileLoader::load('/Users/tomdavie...')
#30 /Users/tomdavies/code/craft-toolbelt/vendor/phpunit/phpunit/src/TextUI/Command.php(562): PHPUnit\Util\FileLoader::checkAndLoad('/Users/tomdavie...')
#31 /Users/tomdavies/code/craft-toolbelt/vendor/phpunit/phpunit/src/TextUI/Command.php(344): PHPUnit\TextUI\Command->handleBootstrap('/Users/tomdavie...')
#32 /Users/tomdavies/code/craft-toolbelt/vendor/pestphp/pest/src/Console/Command.php(60): PHPUnit\TextUI\Command->handleArguments(Array)
#33 /Users/tomdavies/code/craft-toolbelt/vendor/phpunit/phpunit/src/TextUI/Command.php(111): Pest\Console\Command->handleArguments(Array)
#34 /Users/tomdavies/code/craft-toolbelt/vendor/pestphp/pest/src/Console/Command.php(117): PHPUnit\TextUI\Command->run(Array, false)
#35 /Users/tomdavies/code/craft-toolbelt/vendor/pestphp/pest/bin/pest(62): Pest\Console\Command->run(Array)
#36 /Users/tomdavies/code/craft-toolbelt/vendor/pestphp/pest/bin/pest(63): {closure}()
#37 /Users/tomdavies/code/craft-toolbelt/vendor/bin/pest(120): include('/Users/tomdavie...')
#38 {main}

Next yii\db\Exception: SQLSTATE[HY000] [2002] No such file or directory in /Users/tomdavies/code/craft-toolbelt/vendor/yiisoft/yii2/db/Connection.php:647
Stack trace:
#0 /Users/tomdavies/code/craft-toolbelt/vendor/craftcms/cms/src/db/Connection.php(152): yii\db\Connection->open()
#1 /Users/tomdavies/code/craft-toolbelt/vendor/craftcms/cms/src/base/ApplicationTrait.php(843): craft\db\Connection->open()
#2 /Users/tomdavies/code/craft-toolbelt/vendor/craftcms/cms/src/base/ApplicationTrait.php(313): craft\console\Application->getIsDbConnectionValid()
#3 /Users/tomdavies/code/craft-toolbelt/vendor/craftcms/cms/src/helpers/App.php(856): craft\console\Application->getIsInstalled()
#4 /Users/tomdavies/code/craft-toolbelt/vendor/craftcms/cms/src/config/app.php(245): craft\helpers\App::projectConfigConfig()
#5 [internal function]: PHPUnit\Util\FileLoader::{closure}()
#6 /Users/tomdavies/code/craft-toolbelt/vendor/yiisoft/yii2/di/Container.php(633): call_user_func_array(Object(Closure), Array)
#7 /Users/tomdavies/code/craft-toolbelt/vendor/yiisoft/yii2/BaseYii.php(349): yii\di\Container->invoke(Object(Closure), Array)
#8 /Users/tomdavies/code/craft-toolbelt/vendor/yiisoft/yii2/di/ServiceLocator.php(137): yii\BaseYii::createObject(Object(Closure))
#9 /Users/tomdavies/code/craft-toolbelt/vendor/yiisoft/yii2/base/Module.php(766): yii\di\ServiceLocator->get('projectConfig', true)
#10 /Users/tomdavies/code/craft-toolbelt/vendor/craftcms/cms/src/console/Application.php(169): yii\base\Module->get('projectConfig', true)
#11 /Users/tomdavies/code/craft-toolbelt/vendor/craftcms/cms/src/base/ApplicationTrait.php(1322): craft\console\Application->get('projectConfig')
#12 /Users/tomdavies/code/craft-toolbelt/vendor/craftcms/cms/src/base/ApplicationTrait.php(1508): craft\console\Application->getProjectConfig()
#13 /Users/tomdavies/code/craft-toolbelt/vendor/craftcms/cms/src/base/ApplicationTrait.php(1464): craft\console\Application->_setTimeZone()
#14 /Users/tomdavies/code/craft-toolbelt/vendor/craftcms/cms/src/console/Application.php(46): craft\console\Application->_preInit()
#15 /Users/tomdavies/code/craft-toolbelt/vendor/yiisoft/yii2/base/BaseObject.php(109): craft\console\Application->init()
#16 /Users/tomdavies/code/craft-toolbelt/vendor/yiisoft/yii2/base/Application.php(204): yii\base\BaseObject->__construct(Array)
#17 /Users/tomdavies/code/craft-toolbelt/vendor/yiisoft/yii2/console/Application.php(89): yii\base\Application->__construct(Array)
#18 [internal function]: yii\console\Application->__construct(Array)
#19 /Users/tomdavies/code/craft-toolbelt/vendor/yiisoft/yii2/di/Container.php(419): ReflectionClass->newInstanceArgs(Array)
#20 /Users/tomdavies/code/craft-toolbelt/vendor/yiisoft/yii2/di/Container.php(170): yii\di\Container->build('craft\\console\\A...', Array, Array)
#21 /Users/tomdavies/code/craft-toolbelt/vendor/yiisoft/yii2/BaseYii.php(365): yii\di\Container->get('craft\\console\\A...', Array, Array)
#22 /Users/tomdavies/code/craft-toolbelt/vendor/craftcms/cms/src/Craft.php(61): yii\BaseYii::createObject(Array, Array)
#23 /Users/tomdavies/code/craft-toolbelt/vendor/craftcms/cms/bootstrap/bootstrap.php(247): Craft::createObject(Array)
#24 /Users/tomdavies/code/craft-toolbelt/vendor/craftcms/cms/bootstrap/console.php(51): require('/Users/tomdavie...')
#25 /Users/tomdavies/code/craft-toolbelt/tests/bootstrap.php(12): require('/Users/tomdavie...')
#26 /Users/tomdavies/code/craft-toolbelt/vendor/phpunit/phpunit/src/Util/FileLoader.php(65): include_once('/Users/tomdavie...')
#27 /Users/tomdavies/code/craft-toolbelt/vendor/phpunit/phpunit/src/Util/FileLoader.php(49): PHPUnit\Util\FileLoader::load('/Users/tomdavie...')
#28 /Users/tomdavies/code/craft-toolbelt/vendor/phpunit/phpunit/src/TextUI/Command.php(562): PHPUnit\Util\FileLoader::checkAndLoad('/Users/tomdavie...')
#29 /Users/tomdavies/code/craft-toolbelt/vendor/phpunit/phpunit/src/TextUI/Command.php(344): PHPUnit\TextUI\Command->handleBootstrap('/Users/tomdavie...')
#30 /Users/tomdavies/code/craft-toolbelt/vendor/pestphp/pest/src/Console/Command.php(60): PHPUnit\TextUI\Command->handleArguments(Array)
#31 /Users/tomdavies/code/craft-toolbelt/vendor/phpunit/phpunit/src/TextUI/Command.php(111): Pest\Console\Command->handleArguments(Array)
#32 /Users/tomdavies/code/craft-toolbelt/vendor/pestphp/pest/src/Console/Command.php(117): PHPUnit\TextUI\Command->run(Array, false)
#33 /Users/tomdavies/code/craft-toolbelt/vendor/pestphp/pest/bin/pest(62): Pest\Console\Command->run(Array)
#34 /Users/tomdavies/code/craft-toolbelt/vendor/pestphp/pest/bin/pest(63): {closure}()
#35 /Users/tomdavies/code/craft-toolbelt/vendor/bin/pest(120): include('/Users/tomdavie...')
#36 {main}

Next craft\errors\DbConnectException: Craft CMS can’t connect to the database with the credentials in config/db.php. in /Users/tomdavies/code/craft-toolbelt/vendor/craftcms/cms/src/db/Connection.php:173
Stack trace:
#0 /Users/tomdavies/code/craft-toolbelt/vendor/craftcms/cms/src/base/ApplicationTrait.php(843): craft\db\Connection->open()
#1 /Users/tomdavies/code/craft-toolbelt/vendor/craftcms/cms/src/base/ApplicationTrait.php(313): craft\console\Application->getIsDbConnectionValid()
#2 /Users/tomdavies/code/craft-toolbelt/vendor/craftcms/cms/src/helpers/App.php(856): craft\console\Application->getIsInstalled()
#3 /Users/tomdavies/code/craft-toolbelt/vendor/craftcms/cms/src/config/app.php(245): craft\helpers\App::projectConfigConfig()
#4 [internal function]: PHPUnit\Util\FileLoader::{closure}()
#5 /Users/tomdavies/code/craft-toolbelt/vendor/yiisoft/yii2/di/Container.php(633): call_user_func_array(Object(Closure), Array)
#6 /Users/tomdavies/code/craft-toolbelt/vendor/yiisoft/yii2/BaseYii.php(349): yii\di\Container->invoke(Object(Closure), Array)
#7 /Users/tomdavies/code/craft-toolbelt/vendor/yiisoft/yii2/di/ServiceLocator.php(137): yii\BaseYii::createObject(Object(Closure))
#8 /Users/tomdavies/code/craft-toolbelt/vendor/yiisoft/yii2/base/Module.php(766): yii\di\ServiceLocator->get('projectConfig', true)
#9 /Users/tomdavies/code/craft-toolbelt/vendor/craftcms/cms/src/console/Application.php(169): yii\base\Module->get('projectConfig', true)
#10 /Users/tomdavies/code/craft-toolbelt/vendor/craftcms/cms/src/base/ApplicationTrait.php(1322): craft\console\Application->get('projectConfig')
#11 /Users/tomdavies/code/craft-toolbelt/vendor/craftcms/cms/src/base/ApplicationTrait.php(1508): craft\console\Application->getProjectConfig()
#12 /Users/tomdavies/code/craft-toolbelt/vendor/craftcms/cms/src/base/ApplicationTrait.php(1464): craft\console\Application->_setTimeZone()
#13 /Users/tomdavies/code/craft-toolbelt/vendor/craftcms/cms/src/console/Application.php(46): craft\console\Application->_preInit()
#14 /Users/tomdavies/code/craft-toolbelt/vendor/yiisoft/yii2/base/BaseObject.php(109): craft\console\Application->init()
#15 /Users/tomdavies/code/craft-toolbelt/vendor/yiisoft/yii2/base/Application.php(204): yii\base\BaseObject->__construct(Array)
#16 /Users/tomdavies/code/craft-toolbelt/vendor/yiisoft/yii2/console/Application.php(89): yii\base\Application->__construct(Array)
#17 [internal function]: yii\console\Application->__construct(Array)
#18 /Users/tomdavies/code/craft-toolbelt/vendor/yiisoft/yii2/di/Container.php(419): ReflectionClass->newInstanceArgs(Array)
#19 /Users/tomdavies/code/craft-toolbelt/vendor/yiisoft/yii2/di/Container.php(170): yii\di\Container->build('craft\\console\\A...', Array, Array)
#20 /Users/tomdavies/code/craft-toolbelt/vendor/yiisoft/yii2/BaseYii.php(365): yii\di\Container->get('craft\\console\\A...', Array, Array)
#21 /Users/tomdavies/code/craft-toolbelt/vendor/craftcms/cms/src/Craft.php(61): yii\BaseYii::createObject(Array, Array)
#22 /Users/tomdavies/code/craft-toolbelt/vendor/craftcms/cms/bootstrap/bootstrap.php(247): Craft::createObject(Array)
#23 /Users/tomdavies/code/craft-toolbelt/vendor/craftcms/cms/bootstrap/console.php(51): require('/Users/tomdavie...')
#24 /Users/tomdavies/code/craft-toolbelt/tests/bootstrap.php(12): require('/Users/tomdavie...')
#25 /Users/tomdavies/code/craft-toolbelt/vendor/phpunit/phpunit/src/Util/FileLoader.php(65): include_once('/Users/tomdavie...')
#26 /Users/tomdavies/code/craft-toolbelt/vendor/phpunit/phpunit/src/Util/FileLoader.php(49): PHPUnit\Util\FileLoader::load('/Users/tomdavie...')
#27 /Users/tomdavies/code/craft-toolbelt/vendor/phpunit/phpunit/src/TextUI/Command.php(562): PHPUnit\Util\FileLoader::checkAndLoad('/Users/tomdavie...')
#28 /Users/tomdavies/code/craft-toolbelt/vendor/phpunit/phpunit/src/TextUI/Command.php(344): PHPUnit\TextUI\Command->handleBootstrap('/Users/tomdavie...')
#29 /Users/tomdavies/code/craft-toolbelt/vendor/pestphp/pest/src/Console/Command.php(60): PHPUnit\TextUI\Command->handleArguments(Array)
#30 /Users/tomdavies/code/craft-toolbelt/vendor/phpunit/phpunit/src/TextUI/Command.php(111): Pest\Console\Command->handleArguments(Array)
#31 /Users/tomdavies/code/craft-toolbelt/vendor/pestphp/pest/src/Console/Command.php(117): PHPUnit\TextUI\Command->run(Array, false)
#32 /Users/tomdavies/code/craft-toolbelt/vendor/pestphp/pest/bin/pest(62): Pest\Console\Command->run(Array)
#33 /Users/tomdavies/code/craft-toolbelt/vendor/pestphp/pest/bin/pest(63): {closure}()
#34 /Users/tomdavies/code/craft-toolbelt/vendor/bin/pest(120): include('/Users/tomdavie...')
#35 {main}
2022-07-27 10:20:35 [-][-][-][trace][yii\base\Application::bootstrap] Bootstrap with craft\queue\Queue::bootstrap()
2022-07-27 10:20:35 [-][-][-][info][application] $_GET = []

$_POST = []

$_FILES = []

$_COOKIE = []

$_SERVER = [
    'TERM_PROGRAM' => 'iTerm.app'
    'PHP_BINARY' => '/usr/local/Cellar/php/8.1.8/bin/php'
    'SHELL' => '/bin/zsh'
    'TERM' => 'xterm-256color'
    'COMPOSER_BINARY' => '/usr/local/Cellar/composer/2.3.10/bin/composer'
    'TMPDIR' => '/var/folders/5m/29pc026x7pz3_392cyjj_vg40000gn/T/'
    'TERM_PROGRAM_VERSION' => '3.5.0beta6'
    'TERM_SESSION_ID' => 'w1t5p0:4D2594DD-8FAC-4457-B69B-B332F5FC56A9'
    'ZSH' => '/Users/tomdavies/.oh-my-zsh'
    'USER' => 'tomdavies'
    'COMMAND_MODE' => 'unix2003'
    'SSH_AUTH_SOCK' => '/private/tmp/com.apple.launchd.pwQlhPtefD/Listeners'
    '__CF_USER_TEXT_ENCODING' => '0x1F5:0:2'
    'PAGER' => 'less'
    'LSCOLORS' => 'Gxfxcxdxbxegedabagacad'
    'TERMINFO_DIRS' => '/Applications/iTerm.app/Contents/Resources/terminfo:/usr/share/terminfo'
    'PATH' => '/Users/tomdavies/code/craft-toolbelt/vendor/bin:/Users/tomdavies/.yarn/bin:/Users/tomdavies/.config/yarn/global/node_modules/.bin:/Users/tomdavies/.serverless/bin:/usr/local/sbin:/usr/local/php5/bin:/usr/local/bin:/Users/tomdavies/.composer/vendor/bin:/Library/Frameworks/Python.framework/Versions/2.7/bin:/usr/local/bin:/usr/bin:/bin:/usr/sbin:/sbin:/Library/Apple/usr/bin:/Users/tomdavies/.composer/vendor/bin:/Applications/Postgres.app/Contents/Versions/9.3/bin:/usr/local/bin:/opt/local/bin:/usr/bin:/opt/local/sbin:/usr/local/share/npm/bin:~/bin:/usr/bin:/bin:/usr/sbin:/sbin:/opt/X11/bin/=:/Users/tomdavies/.rvm/bin'
    '_' => 'vendor/bin/pest'
    '__CFBundleIdentifier' => 'com.googlecode.iterm2'
    'PWD' => '/Users/tomdavies/code/craft-toolbelt'
    'EDITOR' => 'subl'
    'LANG' => 'en_GB.UTF-8'
    'ITERM_PROFILE' => 'Default'
    'XPC_FLAGS' => '0x0'
    'XPC_SERVICE_NAME' => '0'
    'SHELL_VERBOSITY' => 0
    'COLORFGBG' => '7;0'
    'HOME' => '/Users/tomdavies'
    'SHLVL' => '3'
    'LANGUAGE' => 'C'
    'LC_TERMINAL_VERSION' => '3.5.0beta6'
    'ITERM_SESSION_ID' => 'w1t5p0:4D2594DD-8FAC-4457-B69B-B332F5FC56A9'
    'LOGNAME' => 'tomdavies'
    'LESS' => '-R'
    'GIT_ASKPASS' => 'echo'
    'LC_TERMINAL' => 'iTerm2'
    'COLORTERM' => 'truecolor'
    'PHP_SELF' => 'vendor/bin/pest'
    'SCRIPT_NAME' => 'vendor/bin/pest'
    'SCRIPT_FILENAME' => 'vendor/bin/pest'
    'PATH_TRANSLATED' => 'vendor/bin/pest'
    'DOCUMENT_ROOT' => ''
    'REQUEST_TIME_FLOAT' => 1658917235.1843
    'REQUEST_TIME' => 1658917235
    'argv' => [
        0 => 'vendor/bin/pest'
    ]
    'argc' => 1
]
